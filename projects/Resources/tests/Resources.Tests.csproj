<?xml version="1.0" encoding="utf-8"?>

<Project Sdk="Microsoft.NET.Sdk">
    <!--https://learn.microsoft.com/en-us/windows/apps/winui/winui3/testing/#how-do-i-test-non-winui-functionality-in-my-app -->

    <PropertyGroup>
        <TargetFrameworks>net9.0-windows10.0.26100.0</TargetFrameworks>

        <RootNamespace>$(RootNamespace).Resources.Tests</RootNamespace>
        <AssemblyName>DroidNet.Resources.Tests</AssemblyName>

        <!-- Ensure that the test loads the WinAppSDK runtime -->
        <WindowsAppSdkBootstrapInitialize>true</WindowsAppSdkBootstrapInitialize>
    </PropertyGroup>


    <ItemGroup>
        <PackageReference Include="DryIoc.dll" />
    </ItemGroup>

    <ItemGroup>
        <!-- Reference the runtime resources project so the generator sees the ResourceExtensions symbol -->
        <ProjectReference Include="$(ProjectsRoot)\Resources\src\Resources.csproj" />

        <!--
        Add generator as an analyzer (development time only).
        The key settings here are:
        - OutputItemType="Analyzer": Treats the project reference as an analyzer/generator
        - ReferenceOutputAssembly="false": Don't reference the DLL itself, only use it as an analyzer
        -->
        <ProjectReference Include="$(ProjectsRoot)\Resources.Generator\src\Resources.Generator.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="false" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="Moq" />
    </ItemGroup>

</Project>
