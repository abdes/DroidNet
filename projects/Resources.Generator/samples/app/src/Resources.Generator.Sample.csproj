<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFrameworks>net9.0-windows10.0.26100.0</TargetFrameworks>
           <OutputType>Exe</OutputType>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <RootNamespace>$(RootNamespace).Resources.Generator.Sample</RootNamespace>
        <AssemblyName>DroidNet.Resources.Generator.Sample</AssemblyName>

        <!-- Ensure that the test loads the WinAppSDK runtime -->
        <WindowsAppSdkBootstrapInitialize>true</WindowsAppSdkBootstrapInitialize>

        <!-- <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles> -->
        <!-- <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\GeneratedFiles</CompilerGeneratedFilesOutputPath> -->
    </PropertyGroup>

    <ItemGroup>
        <ProjectReference Include="$(ProjectsRoot)\Resources.Generator\samples\Greeter\src\Resources.Generator.Sample.Greeter.csproj" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="DryIoc.dll" />
    </ItemGroup>

    <ItemGroup>
        <!-- Reference the runtime resources project so the generator sees the ResourceExtensions symbol -->
        <ProjectReference Include="$(ProjectsRoot)\Resources\src\Resources.csproj" />

        <!--
        Add generator as an analyzer (development time only).
        The key settings here are:
        - OutputItemType="Analyzer": Treats the project reference as an analyzer/generator
        - ReferenceOutputAssembly="false": Don't reference the DLL itself, only use it as an analyzer
        -->
        <ProjectReference
            Include="$(ProjectsRoot)\Resources.Generator\src\Resources.Generator.csproj"
            OutputItemType="Analyzer"
            ReferenceOutputAssembly="false" />
    </ItemGroup>

</Project>
