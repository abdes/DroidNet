## Full BindingSlots example with heaps and mappings
meta:
  version: "1.0.0"
  description: "Example showing SRV and SAMPLER domains mapped to D3D12 heaps"

defaults:
  invalid_index: 4294967295

domains:
  - id: textures
    name: Textures
    kind: SRV
    register: t0
    space: space0
    root_table: BindlessSRV
    domain_base: 0
    capacity: 1024

  - id: samplers
    name: Samplers
    kind: SAMPLER
    register: s0
    space: space0
    root_table: SamplerTable
    domain_base: 0
    capacity: 64

root_signature:
  - type: descriptor_table
    name: BindlessSRV
    index: 0
    visibility: ALL
    ranges:
      - range_type: SRV
        domain: textures
        base_shader_register: t0
        register_space: space0
        num_descriptors: unbounded

  - type: descriptor_table
    name: SamplerTable
    index: 1
    visibility: ALL
    ranges:
      - range_type: SAMPLER
        domain: samplers
        base_shader_register: s0
        register_space: space0
        num_descriptors: 64

# D3D12 heap strategy inputs. These feed the runtime JSON too.
heaps:
  - id: "CBV_SRV_UAV:gpu"
    type: CBV_SRV_UAV
    shader_visible: true
    capacity: 65536
    base_index: 0
    allow_growth: false
    debug_name: "CBV_SRV_UAV shader-visible"

  - id: "SAMPLER:gpu"
    type: SAMPLER
    shader_visible: true
    capacity: 2048
    base_index: 100000
    allow_growth: false
    debug_name: "SAMPLER shader-visible"

mappings:
  - domain: textures
    heap: "CBV_SRV_UAV:gpu"
    local_base: 0

  - domain: samplers
    heap: "SAMPLER:gpu"
    local_base: 0
