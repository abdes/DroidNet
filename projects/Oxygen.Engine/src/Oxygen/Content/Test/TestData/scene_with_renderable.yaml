# Scene asset with a renderable geometry dependency
version: 4
content_version: 1

# Define default empty buffer (index 0) - required in all PAK files
buffers:
  - name: "default_empty_buffer"
    data_hex: ""
    size: 0
    usage: 0

  - name: "vertex_buffer"
    usage: 1  # Vertex buffer usage
    stride: 72  # Vertex size in bytes (sizeof(Vertex))
    format: 0
    data_hex: "000000000000000000000000000000000000803f00000000000000000000003f0000803f000000000000000000000000000000000000803f000000000000803f0000803e0000803f0000803f0000000000000000000000000000803f000000000000003f0000003f0000803f000000000000000000000000000000000000803fabaaaa3eabaa2a3f0000803e0000803f000000400000000000000000000000000000803f000000000000803f0000003f0000803f000000000000000000000000000000000000803fabaa2a3fabaaaa3e0000803e0000803f"

  - name: "index_buffer"
    usage: 2  # Index buffer usage
    stride: 0
    format: 10  # kR32UInt
    data_hex: "000000000100000002000000"  # Simple triangle indices

# Define default texture (index 0) - required in all PAK files
textures:
  - name: "default_texture"
    width: 1
    height: 1
    format: 30  # kRGBA8UNorm
    texture_type: 3  # kTexture2D
    compression_type: 0
    data_hex: "4f545831020001002c0000001c000000280000000000000000000000000000000400000004000000ffffffff"  # v4 OTX1 payload

assets:
  - name: "simple_material"
    type: "material"
    asset_key: "11111111-2222-3333-4444-555555555555"
    material_domain: 0
    flags: 0
    shader_stages: 0x44  # kVertex (bit 2) + kPixel (bit 6)
    base_color: [0.0, 1.0, 0.0, 1.0]

    shader_references:
      - source_path: "Forward/ForwardMesh.hlsl"
        entry_point: "VS"
        defines: ""
        shader_hash: 0x1234567890abcdef
      - source_path: "Forward/ForwardMesh.hlsl"
        entry_point: "PS"
        defines: ""
        shader_hash: 0xfedcba0987654321

  # Geometry referenced by the scene renderable.
  - name: "test_geometry"
    type: "geometry"
    asset_key: "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"
    bounding_box_min: [-1.0, -1.0, -1.0]
    bounding_box_max: [1.0, 1.0, 1.0]
    lods:
      - name: "lod0"
        mesh_type: 1
        vertex_buffer: "vertex_buffer"
        index_buffer: "index_buffer"
        bounding_box_min: [-1.0, -1.0, -1.0]
        bounding_box_max: [1.0, 1.0, 1.0]
        submeshes:
          - name: "submesh0"
            material: "simple_material"
            bounding_box_min: [-1.0, -1.0, -1.0]
            bounding_box_max: [1.0, 1.0, 1.0]
            mesh_views:
              - first_index: 0
                index_count: 3
                first_vertex: 0
                vertex_count: 3

  # Geometry present in the PAK but not referenced by the scene.
  - name: "buffered_geometry"
    type: "geometry"
    asset_key: "ffffffff-eeee-dddd-cccc-bbbbbbbbbbbb"
    bounding_box_min: [-2.0, -2.0, -2.0]
    bounding_box_max: [2.0, 2.0, 2.0]
    lods:
      - name: "lod0"
        mesh_type: 1
        vertex_buffer: "vertex_buffer"
        index_buffer: "index_buffer"
        bounding_box_min: [-2.0, -2.0, -2.0]
        bounding_box_max: [2.0, 2.0, 2.0]
        submeshes:
          - name: "submesh0"
            material: "simple_material"
            bounding_box_min: [-2.0, -2.0, -2.0]
            bounding_box_max: [2.0, 2.0, 2.0]
            mesh_views:
              - first_index: 0
                index_count: 3
                first_vertex: 0
                vertex_count: 3

  - name: "test_scene"
    type: "scene"
    asset_key: "22222222-3333-4444-5555-666666666666"
    nodes:
      - name: "root"
        parent: 0
      - name: "mesh_node"
        parent: 0
    renderables:
      - node_index: 1
        geometry: "test_geometry"
