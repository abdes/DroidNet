<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Oxygen.Editor.ContentBrowser.ProjectExplorer.ProjectLayoutView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dnc="using:DroidNet.Controls"
    xmlns:local="using:Oxygen.Editor.ContentBrowser.ProjectExplorer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <UserControl.Resources>
        <ResourceDictionary>
            <!--  Theme-aware brush for folder assets/icons  -->
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Default">
                    <SolidColorBrush x:Key="FolderAssetBrush" Color="#FFE6B800" />
                </ResourceDictionary>
                <ResourceDictionary x:Key="Light">
                    <SolidColorBrush x:Key="FolderAssetBrush" Color="#FFE6B800" />
                </ResourceDictionary>
                <ResourceDictionary x:Key="Dark">
                    <SolidColorBrush x:Key="FolderAssetBrush" Color="#FFE6B800" />
                </ResourceDictionary>
                <ResourceDictionary x:Key="HighContrast">
                    <SolidColorBrush x:Key="FolderAssetBrush" Color="{ThemeResource SystemAccentColor}" />
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>

            <!--  Templates and template selector for Folder  -->
            <DataTemplate x:Key="FolderThumbnailTemplate" x:DataType="local:FolderTreeItemAdapter">
                <FontIcon Foreground="{ThemeResource FolderAssetBrush}" Glyph="{x:Bind Path=IconGlyph, Mode=OneWay}" />
            </DataTemplate>

            <DataTemplate x:Key="ProjectRootThumbnailTemplate" x:DataType="local:ProjectRootTreeItemAdapter">
                <FontIcon Foreground="{ThemeResource FolderAssetBrush}" Glyph="{x:Bind Path=IconGlyph, Mode=OneWay}" />
            </DataTemplate>

            <DataTemplate x:Key="AuthoringMountThumbnailTemplate" x:DataType="local:AuthoringMountPointTreeItemAdapter">
                <FontIcon Foreground="{ThemeResource FolderAssetBrush}" Glyph="{x:Bind Path=IconGlyph, Mode=OneWay}" />
            </DataTemplate>

            <DataTemplate x:Key="VirtualFolderMountThumbnailTemplate" x:DataType="local:VirtualFolderMountTreeItemAdapter">
                <FontIcon Foreground="{ThemeResource FolderAssetBrush}" Glyph="{x:Bind Path=IconGlyph, Mode=OneWay}" />
            </DataTemplate>

            <local:ThumbnailTemplateSelector
                x:Key="ThumbnailTemplateSelector"
                AuthoringMountTemplate="{StaticResource AuthoringMountThumbnailTemplate}"
                DefaultTemplate="{StaticResource FolderThumbnailTemplate}"
                FolderTemplate="{StaticResource FolderThumbnailTemplate}"
                ProjectRootTemplate="{StaticResource ProjectRootThumbnailTemplate}"
                VirtualFolderMountTemplate="{StaticResource VirtualFolderMountThumbnailTemplate}" />
            <!--  ~+~  -->

        </ResourceDictionary>
    </UserControl.Resources>

    <Border Margin="4,0,0,4" Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}">
        <dnc:DynamicTree ThumbnailTemplateSelector="{StaticResource ThumbnailTemplateSelector}" ViewModel="{x:Bind ViewModel}" />
    </Border>
</UserControl>
