<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="DroidNet.Controls.Demo.Menus.MenuFlyoutDemoView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cm="using:DroidNet.Controls.Menus">

    <ScrollViewer>
        <StackPanel Margin="20" Spacing="30">

            <!--  Title and Description  -->
            <StackPanel Spacing="8">
                <TextBlock Style="{ThemeResource TitleTextBlockStyle}" Text="MenuFlyout Integration Demo" />
                <TextBlock
                    Style="{ThemeResource BodyTextBlockStyle}"
                    Text="A single menu definition drives both a right-click context menu and a MenuButton. Icons are constrained to 16x16 to match Fluent guidance."
                    TextWrapping="Wrap" />
            </StackPanel>

            <!--  Two Scenarios - Same Menu  -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="20">

                <!--  Scenario 1: Context Menu (Right-Click)  -->
                <Border
                    x:Name="ContextTarget"
                    Grid.Column="0"
                    Height="200"
                    Padding="20"
                    cm:ContextMenu.MenuSource="{x:Bind ViewModel.SharedMenu, Mode=OneWay}"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="6">
                    <StackPanel
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Spacing="8">
                        <SymbolIcon Opacity="0.6" Symbol="TouchPointer" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontWeight="SemiBold"
                            Style="{ThemeResource BodyTextBlockStyle}"
                            Text="Scenario 1: Context Menu" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Text="Right-click anywhere inside this card" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            Opacity="0.7"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Text="Menu attached via ContextMenu" />
                    </StackPanel>
                </Border>

                <!--  Scenario 2: MenuButton (Click)  -->
                <Border
                    Grid.Column="1"
                    Height="200"
                    Padding="20"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="6">
                    <StackPanel
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Spacing="10">
                        <SymbolIcon Opacity="0.6" Symbol="List" />
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontWeight="SemiBold"
                            Style="{ThemeResource BodyTextBlockStyle}"
                            Text="Scenario 2: MenuButton" />
                        <StackPanel Spacing="12">
                            <StackPanel Spacing="4">
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    Style="{ThemeResource CaptionTextBlockStyle}"
                                    Text="Default button visuals" />
                                <cm:MenuButton
                                    Padding="12,6"
                                    HorizontalAlignment="Center"
                                    MenuSource="{x:Bind ViewModel.SharedMenu, Mode=OneWay}">
                                    <StackPanel Orientation="Horizontal" Spacing="8">
                                        <FontIcon
                                            VerticalAlignment="Center"
                                            FontFamily="Segoe Fluent Icons"
                                            FontSize="16"
                                            Glyph="&#xE712;" />
                                        <TextBlock Text="Click to open menu" />
                                    </StackPanel>
                                </cm:MenuButton>
                            </StackPanel>
                            <StackPanel Spacing="4">
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    Style="{ThemeResource CaptionTextBlockStyle}"
                                    Text="Transparent chrome variant" />
                                <cm:MenuButton
                                    Padding="6"
                                    HorizontalAlignment="Center"
                                    Chrome="Transparent"
                                    CornerRadius="5"
                                    MenuSource="{x:Bind ViewModel.SharedMenu, Mode=OneWay}">
                                    <FontIcon
                                        VerticalAlignment="Center"
                                        FontFamily="Segoe Fluent Icons"
                                        FontSize="16"
                                        Glyph="&#xE8D4;" />
                                </cm:MenuButton>
                            </StackPanel>
                        </StackPanel>
                        <TextBlock
                            HorizontalAlignment="Center"
                            Opacity="0.7"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Text="Menu displayed through MenuButton root surface"
                            TextAlignment="Center"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Border>

            </Grid>

            <!--  UX Pattern Documentation  -->
            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6">
                <StackPanel Spacing="12">
                    <TextBlock
                        Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                        Style="{ThemeResource SubtitleTextBlockStyle}"
                        Text="✨ Two Scenarios, One Menu" />
                    <TextBlock Style="{ThemeResource BodyTextBlockStyle}" Text="• One MenuBuilder definition feeds each surface" />
                    <TextBlock Style="{ThemeResource BodyTextBlockStyle}" Text="• Context menu uses cm:ContextMenu for right-click invocation" />
                    <TextBlock Style="{ThemeResource BodyTextBlockStyle}" Text="• MenuButton acts as the root surface and shares services" />
                    <TextBlock Style="{ThemeResource BodyTextBlockStyle}" Text="• Both scenarios rely on MenuInteractionController for focus and dismissal" />
                </StackPanel>
            </Border>

            <!--  Action Feedback  -->
            <Border
                Padding="12"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="4">
                <StackPanel>
                    <TextBlock
                        Margin="0,0,0,4"
                        Style="{ThemeResource CaptionTextBlockStyle}"
                        Text="Last Action:" />
                    <TextBlock
                        Style="{ThemeResource BodyStrongTextBlockStyle}"
                        Text="{x:Bind ViewModel.LastActionMessage, Mode=OneWay}"
                        TextWrapping="Wrap" />
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</Page>
