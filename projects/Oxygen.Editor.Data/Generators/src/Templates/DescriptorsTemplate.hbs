// Distributed under the MIT License. See accompanying file LICENSE or copy
// at https://opensource.org/licenses/MIT.
// SPDX-License-Identifier: MIT

// <auto-generated />

{{#each Usings}}
using {{this}};
{{/each}}

#nullable enable

{{#each Namespaces}}
namespace {{Name}};
{{#each Types}}
{{#if IsPublic}}public{{else}}internal{{/if}}{{#if IsSealed}} sealed{{/if}} partial class {{Name}}
{
    /// <summary>
    /// Setting descriptors for {{Name}} properties.
    /// </summary>
    internal static class Descriptors
    {
{{#each Properties}}
        public static readonly SettingDescriptor<{{Type}}> {{Name}} = new()
        {
            Key = new SettingKey<{{Type}}>(ModuleName, nameof({{Name}})),
            DisplayName = {{{DisplayNameLiteral}}},
            Description = {{{DescriptionLiteral}}},
            Category = {{{CategoryLiteral}}},
            Validators = new ValidationAttribute[] { {{#each Validators}}{{{Rendered}}}{{#unless @last}}, {{/unless}}{{/each}} },
        };
{{/each}}
    }
}
{{/each}}
{{/each}}

/// <summary>
/// Assembly-level module initializer that registers all descriptors for this assembly on load.
/// </summary>
file static class {{InitializerName}}
{
    [System.Runtime.CompilerServices.ModuleInitializer]
    internal static void Initialize()
    {
{{#each Namespaces}}
{{#each Types}}
{{#each Properties}}
        EditorSettingsManager.StaticProvider.Register({{../../Name}}.{{../Name}}.Descriptors.{{Name}});
{{/each}}
{{/each}}
{{/each}}
    }
}
